<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>7. Array as Function Argument | Cèªè¨€æŒ‡æ¨™æ•™å­¸</title>
  <meta name="description" content="æ·±å…¥ç†è§£é™£åˆ—ä½œç‚ºå‡½å¼åƒæ•¸çš„æ©Ÿåˆ¶ï¼Œé™£åˆ—é€€åŒ–ç‚ºæŒ‡æ¨™ã€sizeof é™·é˜±ã€ä»¥åŠæ­£ç¢ºçš„é™£åˆ—å‚³éæ–¹å¼ã€‚é™„å®Œæ•´å¯åŸ·è¡Œç¯„ä¾‹ã€‚" />
  <style>
    :root {
      --bg-primary:#fff;--bg-secondary:#f8f9fa;--bg-card:#fff;--text-primary:#2c3e50;--text-secondary:#6c757d;--accent-primary:#3498db;--accent-secondary:#2980b9;--border-color:#e9ecef;--shadow-light:rgba(0,0,0,.1);--shadow-medium:rgba(0,0,0,.15);--gradient-bg:linear-gradient(135deg,#667eea 0%,#764ba2 100%);--code-bg:#1e1e1e;--code-text:#f8f8f2;
      --theme-btn-bg: rgba(0, 0, 0, 0.1);
      --theme-btn-border: rgba(0, 0, 0, 0.2);
      --theme-btn-icon: rgba(0, 0, 0, 0.7);
    }
    [data-theme="dark"]{
      --bg-primary:#1a1a1a;--bg-secondary:#2d3748;--bg-card:#2d3748;--text-primary:#f7fafc;--text-secondary:#a0aec0;--accent-primary:#4299e1;--accent-secondary:#3182ce;--border-color:#4a5568;--shadow-light:rgba(0,0,0,.3);--shadow-medium:rgba(0,0,0,.4);--gradient-bg:linear-gradient(135deg,#2d3748 0%,#1a202c 100%);--code-bg:#1a202c;--code-text:#f7fafc;
      --theme-btn-bg: rgba(255, 255, 255, 0.1);
      --theme-btn-border: rgba(255, 255, 255, 0.3);
      --theme-btn-icon: rgba(255, 255, 255, 0.8);
    }
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;line-height:1.6;color:var(--text-primary);background:var(--gradient-bg);min-height:100vh;transition:all .3s ease}
    .container{max-width:1400px;margin:0 auto;padding:20px;display:grid;grid-template-columns:280px 1fr;gap:30px}
    .sidebar{position:sticky;top:20px;height:fit-content}
    .toc-widget{background:var(--bg-card);border-radius:15px;box-shadow:0 8px 32px var(--shadow-light);border:1px solid var(--border-color);overflow:hidden}
    .toc-header{padding:20px;border-bottom:1px solid var(--border-color);text-align:center}
    .toc-title{font-size:1.1em;font-weight:600;color:var(--text-primary)}
    .toc-body{padding:15px;max-height:70vh;overflow-y:auto}
    .toc-list{list-style:none}
    .toc-item{margin-bottom:3px}
    .toc-link{display:block;color:var(--text-secondary);text-decoration:none;padding:8px 12px;border-radius:8px;transition:all .3s ease;font-size:.85em;line-height:1.4}
    .toc-link:hover{background:var(--bg-secondary);color:var(--accent-primary);transform:translateX(3px)}
    .toc-link.active{background:var(--accent-primary);color:#fff}
    .toc-link.has-submenu{cursor:pointer;position:relative}
    .arrow{display:inline-block;transition:transform .3s ease;margin-right:8px;font-size:.7em;color:var(--accent-primary)}
    .arrow.expanded{transform:rotate(90deg)}
    .sub-menu{list-style:none;margin-left:15px;margin-top:5px;padding-left:15px;border-left:2px solid var(--border-color);max-height:0;overflow:hidden;transition:max-height .4s ease}
    .sub-menu.show{max-height:400px;margin-bottom:10px}
    .sub-menu .toc-link{padding:6px 10px;font-size:.8em}
    .main-area{min-width:0}
    .header{background:var(--bg-card);border-radius:15px;padding:25px 30px;margin-bottom:25px;box-shadow:0 8px 32px var(--shadow-light);border:1px solid var(--border-color);position:relative}
    
    .theme-toggle {
        position: absolute;
        top: 20px;
        right: 20px;
        background: var(--theme-btn-bg);
        border: 2px solid var(--theme-btn-border);
        color: var(--theme-btn-icon);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 18px;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        backdrop-filter: blur(10px);
    }

    .theme-toggle:hover {
        border-color: var(--accent-primary);
        background: var(--accent-primary);
        color: white;
        transform: scale(1.1);
    }

    .theme-icon {
        stroke: currentColor;
        fill: none;
        stroke-width: 2;
        transition: all 0.3s ease;
    }

    .breadcrumb{color:var(--text-secondary);font-size:.85em;margin-bottom:12px}
    .breadcrumb a{color:var(--accent-primary);text-decoration:none}
    .breadcrumb a:hover{text-decoration:underline}
    .chapter-title{font-size:1.8em;font-weight:700;color:var(--text-primary);margin-bottom:8px}
    .chapter-subtitle{color:var(--text-secondary);font-size:1em}
    .main-content{background:var(--bg-card);border-radius:15px;box-shadow:0 8px 32px var(--shadow-light);border:1px solid var(--border-color);overflow:hidden;margin-bottom:25px}
    .content-section{padding:30px;border-bottom:1px solid var(--border-color)}
    .content-section:last-child{border-bottom:none}
    .section-header{display:flex;align-items:center;gap:12px;margin-bottom:20px}
    .section-number{background:var(--accent-primary);color:#fff;width:35px;height:35px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:bold}
    .section-title{font-size:1.3em;font-weight:600;color:var(--text-primary)}
    .content-text{color:var(--text-secondary);font-size:1em;line-height:1.6;margin-bottom:15px}
    .highlight-box{background:linear-gradient(135deg,var(--accent-primary)10,var(--accent-secondary)10);border-left:4px solid var(--accent-primary);border-radius:8px;padding:18px;margin:18px 0}
    .error-box{background:linear-gradient(135deg,#e74c3c10,#c0392b10);border-left:4px solid #e74c3c;border-radius:8px;padding:18px;margin:18px 0}
    .highlight-title{color:var(--accent-primary);font-weight:600;margin-bottom:8px}
    .error-title{color:#e74c3c;font-weight:600;margin-bottom:8px}
    .bullet-list{list-style:none;margin:12px 0}
    .bullet-list li{position:relative;padding-left:20px;margin-bottom:6px;color:var(--text-secondary)}
    .bullet-list li:before{content:'â€¢';color:var(--accent-primary);font-weight:bold;position:absolute;left:0}
    .code-container{position:relative;margin:20px 0}
    .code-header{display:flex;justify-content:space-between;align-items:center;background:var(--code-bg);color:var(--code-text);padding:10px 18px;border-radius:10px 10px 0 0;border-bottom:1px solid #333}
    .code-label{font-size:.85em;color:#888}
    .copy-btn{background:transparent;border:1px solid #555;color:#888;padding:5px 10px;border-radius:5px;cursor:pointer;font-size:.75em;transition:all .3s ease}
    .copy-btn:hover{background:#333;color:#fff;border-color:#666}
    .copy-btn.copied{background:#27ae60;color:#fff;border-color:#27ae60}
    .code-block{background:var(--code-bg);color:var(--code-text);padding:18px;border-radius:0 0 10px 10px;overflow-x:auto;font-family:'Fira Code','Courier New',monospace;font-size:.85em;line-height:1.4}
    .code-block pre{margin:0;white-space:pre-wrap}
    .memory-diagram{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:10px;padding:20px;margin:20px 0;text-align:center}
    .memory-table{display:inline-block;border-collapse:collapse;border:2px solid var(--accent-primary);border-radius:6px;overflow:hidden}
    .memory-table th{background:var(--accent-primary);color:#fff;padding:10px 18px;font-weight:600}
    .memory-table td{background:var(--bg-card);color:var(--text-primary);padding:10px 18px;border-bottom:1px solid var(--border-color);font-family:monospace;font-size:1em}
    .memory-table tr:last-child td{border-bottom:none}
    .navigation{display:flex;justify-content:space-between;align-items:center;background:var(--bg-card);border-radius:15px;padding:20px 25px;box-shadow:0 8px 32px var(--shadow-light);border:1px solid var(--border-color);gap:20px}
    .nav-btn{display:flex;align-items:center;gap:10px;background:var(--accent-primary);color:#fff;padding:12px 20px;border-radius:10px;text-decoration:none;transition:all .3s ease;font-weight:500;flex:1;max-width:250px}
    .nav-btn:hover{background:var(--accent-secondary);transform:translateY(-2px);box-shadow:0 8px 20px var(--shadow-medium);color:#fff;text-decoration:none}
    .nav-btn.prev{background:var(--text-secondary)}
    .nav-btn.prev:hover{background:#5a6c7d}
    .nav-direction{font-size:.75em;opacity:.8}
    .nav-title{font-size:.9em;font-weight:600}
    .nav-center{text-align:center;color:var(--text-secondary)}
    @media (max-width:1024px){.container{grid-template-columns:1fr;gap:20px}.sidebar{position:static;order:2}.main-area{order:1}}
    @media (max-width:768px){.container{padding:15px}.header{padding:20px 15px}.content-section{padding:20px 15px}.chapter-title{font-size:1.5em}.navigation{flex-direction:column;gap:12px}.nav-btn{max-width:none}}
    .keyword{color:#ff79c6}.string{color:#f1fa8c}.comment{color:#6272a4}.number{color:#bd93f9}.function{color:#50fa7b}.type{color:#8be9fd}
  </style>
</head>
<body>
  <div class="container">
    <aside class="sidebar">
    <div class="toc-widget">
        <div class="toc-header">
        <h3 class="toc-title">ğŸ“š èª²ç¨‹ç›®éŒ„</h3>
        </div>
        <div class="toc-body">
        <ul class="toc-list">
            <li class="toc-item">
            <a href="chapter1.html" class="toc-link">
                1. Introduction to pointers in C/C++
            </a>
            </li>
            <li class="toc-item">
            <a href="chapter2.html" class="toc-link">
                2. Work with Pointers
            </a>
            </li>
            <li class="toc-item">
            <a href="chapter3.html" class="toc-link">
                3. Pointer types, pointer arithmetic, void pointers
            </a>
            </li>
            <li class="toc-item">
            <a href="chapter4.html" class="toc-link">
                4. Pointers to Pointers
            </a>
            </li>
            <li class="toc-item">
            <a href="chapter5.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                <span class="arrow">â–¶</span> 5. Call by Reference
            </a>
            <ul class="sub-menu">
                <li><a href="chapter5.html#memory-blocks" class="toc-link">è¨˜æ†¶é«”å€å¡Š</a></li>
                <li><a href="chapter5.html#call-by-address" class="toc-link">å‚³å€å‘¼å«</a></li>
                <li><a href="chapter5.html#call-by-value" class="toc-link">å‚³å€¼å‘¼å«</a></li>
            </ul>
            </li>
            <li class="toc-item">
            <a href="chapter6.html" class="toc-link">
                6. Pointers and Arrays
            </a>
            </li>
            <li class="toc-item">
            <a href="chapter7.html" class="toc-link active">
                7. Array as function argument
            </a>
            </li>
            <li class="toc-item">
            <a href="chapter8.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                <span class="arrow">â–¶</span> 8. Character arrays and pointers - part 1
            </a>
            <ul class="sub-menu">
                <li><a href="chapter8.html#string-basics" class="toc-link">å­—ä¸²åŸºæœ¬æ¦‚å¿µ</a></li>
                <li><a href="chapter8.html#string-pointers" class="toc-link">å­—ä¸²èˆ‡æŒ‡æ¨™</a></li>
                <li><a href="chapter8.html#string-functions" class="toc-link">å­—ä¸²å‚³å…¥å‡½å¼</a></li>
            </ul>
            </li>
            <li class="toc-item">
            <a href="chapter9.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                <span class="arrow">â–¶</span> 9. Character arrays and pointers - part 2
            </a>
            <ul class="sub-menu">
                <li><a href="chapter9.html#memory-stack" class="toc-link">è¨˜æ†¶é«”èˆ‡Stackè§£æ</a></li>
                <li><a href="chapter9.html#readonly-memory" class="toc-link">å”¯è®€è¨˜æ†¶é«”</a></li>
            </ul>
            </li>
            <li class="toc-item">
            <a href="chapter10.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                <span class="arrow">â–¶</span> 10. Pointers and 2-D arrays
            </a>
            <ul class="sub-menu">
                <li><a href="chapter10.html#2d-usage" class="toc-link">2D æŒ‡æ¨™é™£åˆ—çš„ä½¿ç”¨</a></li>
                <li><a href="chapter10.html#2d-access" class="toc-link">2ç¶­é™£åˆ—çš„å­˜å–ç­‰åƒ¹å¼</a></li>
            </ul>
            </li>
            <li class="toc-item">
            <a href="chapter11.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                <span class="arrow">â–¶</span> 11. Pointers and multidimensional arrays
            </a>
            <ul class="sub-menu">
                <li><a href="chapter11.html#array-types" class="toc-link">é™£åˆ—å‚³å…¥å‡½å¼çš„å‹æ…‹è¦å‰‡</a></li>
                <li><a href="chapter11.html#3d-access" class="toc-link">ä¸‰ç¶­é™£åˆ—çš„å­˜å–ç­‰åƒ¹å¼</a></li>
            </ul>
            </li>
            <li class="toc-item">
            <a href="chapter12.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                <span class="arrow">â–¶</span> 12. Pointers and dynamic memory - stack vs heap
            </a>
            <ul class="sub-menu">
                <li><a href="chapter12.html#memory-allocation" class="toc-link">C å‡½å¼åŸ·è¡Œèˆ‡è¨˜æ†¶é«”é…ç½®</a></li>
                <li><a href="chapter12.html#stack-overflow" class="toc-link">Stack Overflow æ˜¯ä»€éº¼ï¼Ÿ</a></li>
                <li><a href="chapter12.html#heap-usage" class="toc-link">Heap æ˜¯ä»€éº¼ï¼Ÿ</a></li>
                <li><a href="chapter12.html#malloc-diagram" class="toc-link">malloc çš„è¨˜æ†¶é«”é…ç½®å‹•æ…‹èˆ‡åœ–è§£</a></li>
            </ul>
            </li>
            <li class="toc-item">
            <a href="chapter13.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                <span class="arrow">â–¶</span> 13. Dynamic memory allocation
            </a>
            <ul class="sub-menu">
                <li><a href="chapter13.html#malloc" class="toc-link">malloc</a></li>
                <li><a href="chapter13.html#calloc" class="toc-link">calloc</a></li>
                <li><a href="chapter13.html#realloc" class="toc-link">realloc</a></li>
            </ul>
            </li>
            <li class="toc-item">
            <a href="chapter14.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                <span class="arrow">â–¶</span> 14. Pointers as Function Returns
            </a>
            <ul class="sub-menu">
                <li><a href="chapter14.html#malloc-free" class="toc-link">malloc èˆ‡ free å¾Œçš„æŒ‡æ¨™è¡Œç‚º</a></li>
                <li><a href="chapter14.html#realloc-behavior" class="toc-link">realloc èª¿æ•´è¨˜æ†¶é«”å¤§å°</a></li>
                <li><a href="chapter14.html#heap-stack-diff" class="toc-link">Heap èˆ‡ Stack å›å‚³æŒ‡æ¨™å·®ç•°</a></li>
            </ul>
            </li>
            <li class="toc-item">
            <a href="chapter15.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                <span class="arrow">â–¶</span> 15. Function Pointers
            </a>
            <ul class="sub-menu">
                <li><a href="chapter15.html#theory" class="toc-link">function pointeråŸç†è§£é‡‹</a></li>
                <li><a href="chapter15.html#practice" class="toc-link">function pointerå¯¦ä¾‹æ“ä½œ</a></li>
            </ul>
            </li>
            <li class="toc-item">
            <a href="chapter16.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                <span class="arrow">â–¶</span> 16. Function Pointers and Callbacks
            </a>
            <ul class="sub-menu">
                <li><a href="chapter16.html#basic-example" class="toc-link">function pointer åŸºæœ¬ç¯„ä¾‹</a></li>
                <li><a href="chapter16.html#bubble-sort" class="toc-link">BubbleSort by Callback</a></li>
                <li><a href="chapter16.html#advanced-sort" class="toc-link">å»¶ä¼¸æ‡‰ç”¨ï¼šå¤šç¨®æ’åºé‚è¼¯</a></li>
                <li><a href="chapter16.html#quick-sort" class="toc-link">QuickSort by Callback</a></li>
            </ul>
            </li>
            <li class="toc-item"><a href="chapter17.html" class="toc-link">17. Memory Leak in C/C++</a></li>
            <li class="toc-item"><a href="chapter18.html" class="toc-link">18. æœ€çµ‚ç¸½çµ â€” C èªè¨€ Pointer æ€ç¶­åœ°åœ–</a></li>
        </ul>
        </div>
    </div>
    </aside>
 

    <div class="main-area">
      <header class="header">
        <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ›æ·±æ·ºè‰²æ¨¡å¼">
            <svg class="theme-icon" id="theme-icon" width="20" height="20" viewBox="0 0 24 24">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
        </button>
        <div class="breadcrumb"><a href="../index.html">é¦–é </a> / <span>Chapter 7</span></div>
        <h1 class="chapter-title">7. Array as Function Argument</h1>
        <p class="chapter-subtitle">é™£åˆ—ä½œç‚ºå‡½å¼åƒæ•¸çš„æ©Ÿåˆ¶ã€é™£åˆ—é€€åŒ–ã€sizeof é™·é˜±èˆ‡è§£æ±ºæ–¹æ¡ˆ</p>
      </header>

      <main class="main-content">
        <section class="content-section">
          <div class="section-header"><div class="section-number">ğŸ–¼ï¸</div><h2 class="section-title">ç« ç¯€å°é¢ï¼ˆå ä½ï¼‰</h2></div>
          <p class="content-text">è«‹å°‡ä½ çš„å°é¢åœ–æ”¾åˆ° <code>images/</code>ï¼Œæª”åä¾‹å¦‚ <code>ch7-cover.png</code>ï¼Œä¸¦æ›´æ–° <code>src</code>ã€‚</p>
          <div class="memory-diagram"><img src="images/ch7-cover.png" alt="Chapter 7 Cover" style="max-width:100%;height:auto;opacity:.6"/></div>
        </section>

        <section class="content-section" id="wrong-way">
          <div class="section-header"><div class="section-number">âŒ</div><h2 class="section-title">éŒ¯èª¤å¯«æ³• - sizeof é™·é˜±</h2></div>
          <p class="content-text">ç•¶é™£åˆ—ä½œç‚ºåƒæ•¸å‚³å…¥å‡½å¼æ™‚ï¼Œæœƒç™¼ç”Ÿã€Œé™£åˆ—é€€åŒ–ã€(Array Decay) ç¾è±¡ï¼Œå°è‡´ sizeof è¨ˆç®—éŒ¯èª¤ã€‚</p>
          
          <div class="error-box">
            <div class="error-title">âš ï¸ éŒ¯èª¤åŸå› </div>
            <ul class="bullet-list">
              <li>ç•¶é™£åˆ—ä½œç‚ºåƒæ•¸å‚³å…¥å‡½å¼æ™‚ï¼Œæœƒé€€åŒ– (decay) æˆæŒ‡æ¨™</li>
              <li><code>sizeof(A)</code> åœ¨ <code>sum()</code> è£¡å›å‚³çš„æ˜¯æŒ‡æ¨™å¤§å° (64 ä½å…ƒç³»çµ±ç‚º 8 bytes)</li>
              <li>å¯¦éš›ä¸Šé™£åˆ—æœ‰ 5 å€‹å…ƒç´ ï¼Œä½† size æœƒè®Šæˆ 8 / 4 = 2</li>
            </ul>
          </div>

          <div class="code-container">
            <div class="code-header"><span class="code-label">éŒ¯èª¤ç¯„ä¾‹ï¼šarray_wrong_demo.c</span><button class="copy-btn" onclick="copyCode(this,'code-1')">ğŸ“‹ è¤‡è£½</button></div>
            <div class="code-block" id="code-1"><pre><span class="comment">// éŒ¯èª¤å¯«æ³•</span>
<span class="keyword">#include</span> &lt;stdio.h&gt;

<span class="comment">// å‡½å¼ï¼šè¨ˆç®—é™£åˆ—å…ƒç´ ç¸½å’Œ</span>
<span class="type">int</span> <span class="function">sum</span>(<span class="type">int</span> A[]) {
    <span class="type">int</span> sum = <span class="number">0</span>;
    
    <span class="comment">// âš ï¸ sizeof(A) é€™è£¡çš„ A æ˜¯ã€ŒæŒ‡æ¨™ã€ï¼Œä¸æ˜¯å®Œæ•´é™£åˆ—</span>
    <span class="comment">// å› æ­¤ sizeof(A) æœƒå›å‚³æŒ‡æ¨™å¤§å°ï¼ˆåœ¨ 64 ä½å…ƒç³»çµ±é€šå¸¸æ˜¯ 8 bytesï¼‰</span>
    <span class="comment">// è€Œä¸æ˜¯é™£åˆ—çš„ç¸½å¤§å°</span>
    <span class="type">int</span> size = <span class="keyword">sizeof</span>(A) / <span class="keyword">sizeof</span>(A[<span class="number">0</span>]); 
    
    <span class="comment">// å°å‡ºåœ¨å‡½å¼å…§çš„ A å¤§å°</span>
    printf(<span class="string">"In the function, size of A: %zu bytes. Size of A[0]: %zu bytes\n"</span>, 
           <span class="keyword">sizeof</span>(A), <span class="keyword">sizeof</span>(A[<span class="number">0</span>]));
    
    <span class="comment">// ç”¨è¿´åœˆç´¯åŠ é™£åˆ—å…ƒç´ </span>
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++) {
        sum += A[i];
    }
    <span class="keyword">return</span> sum; <span class="comment">// å›å‚³ç¸½å’Œ</span>
}

<span class="type">int</span> <span class="function">main</span>() {
    <span class="comment">// å®£å‘Šä¸¦åˆå§‹åŒ–é™£åˆ— A</span>
    <span class="type">int</span> A[] = {<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>};
    
    <span class="comment">// åœ¨ main ä¸­è¨ˆç®—é™£åˆ—å¤§å°</span>
    <span class="comment">// sizeof(A) â†’ æ•´å€‹é™£åˆ—çš„å¤§å°ï¼ˆ5 Ã— 4 bytes = 20 bytesï¼‰</span>
    <span class="comment">// sizeof(A[0]) â†’ é™£åˆ—å–®ä¸€å…ƒç´ å¤§å°ï¼ˆint = 4 bytesï¼‰</span>
    printf(<span class="string">"In the main, size of A: %zu bytes. Size of A[0]: %zu bytes\n"</span>, 
           <span class="keyword">sizeof</span>(A), <span class="keyword">sizeof</span>(A[<span class="number">0</span>]));
    
    <span class="comment">// å‘¼å« sum å‡½å¼è¨ˆç®—ç¸½å’Œä¸¦è¼¸å‡ºçµæœ</span>
    printf(<span class="string">"Total of A is %d\n"</span>, sum(A));
    
    <span class="keyword">return</span> <span class="number">0</span>; 
}
</pre></div>
          </div>
        </section>

        <section class="content-section" id="array-decay">
          <div class="section-header"><div class="section-number">ğŸ“š</div><h2 class="section-title">é™£åˆ—é€€åŒ–ç¾è±¡è§£æ</h2></div>
          <p class="content-text">äº†è§£é™£åˆ—ä½œç‚ºå‡½å¼åƒæ•¸æ™‚çš„é‡è¦ç‰¹æ€§ï¼š</p>
          
          <div class="highlight-box">
            <div class="highlight-title">ğŸ” é‡é»ç­†è¨˜</div>
            <ul class="bullet-list">
              <li><strong>é™£åˆ—åœ¨å‡½å¼å¤–</strong>ï¼š<code>sizeof(A)</code> æœƒå›å‚³æ•´å€‹é™£åˆ—å¤§å° (ä¾‹å¦‚ 5 Ã— 4 = 20 bytes)</li>
              <li><strong>é™£åˆ—åœ¨å‡½å¼å…§</strong>ï¼šA æœƒé€€åŒ–æˆæŒ‡æ¨™ï¼Œ<code>sizeof(A)</code> è®ŠæˆæŒ‡æ¨™å¤§å° (64 ä½å…ƒç³»çµ±ç‚º 8 bytes)</li>
              <li><strong>å‚³éé™£åˆ—æ™‚</strong>ï¼šå¿…é ˆé¡å¤–å‚³éã€Œé™£åˆ—å¤§å°ã€é€²å…¥å‡½å¼</li>
              <li><strong>ç­‰åƒ¹æ€§</strong>ï¼š<code>*(A + i)</code> å’Œ <code>A[i]</code> å…©è€…ç­‰æ•ˆ</li>
            </ul>
          </div>
        </section>

        <section class="content-section" id="correct-way">
          <div class="section-header"><div class="section-number">âœ…</div><h2 class="section-title">æ­£ç¢ºç‰ˆæœ¬ï¼šé™£åˆ—å‚³éåˆ°å‡½å¼ (æŒ‡æ¨™æ–¹å¼)</h2></div>
          <p class="content-text">æ­£ç¢ºçš„åšæ³•æ˜¯å°‡é™£åˆ—å¤§å°ä½œç‚ºé¡å¤–çš„åƒæ•¸å‚³å…¥å‡½å¼ã€‚</p>
          
          <div class="code-container">
            <div class="code-header"><span class="code-label">å®Œæ•´å¯åŸ·è¡Œï¼šarray_correct_demo.c</span><button class="copy-btn" onclick="copyCode(this,'code-2')">ğŸ“‹ è¤‡è£½</button></div>
            <div class="code-block" id="code-2"><pre><span class="comment">// æ­£ç¢ºå¯«æ³•</span>
<span class="keyword">#include</span> &lt;stdio.h&gt;

<span class="type">int</span> <span class="function">sum</span>(<span class="type">int</span>* A, <span class="type">int</span> size) { <span class="comment">// int *A åŒç­‰æ–¼ int A[]</span>
    <span class="type">int</span> sum = <span class="number">0</span>;
    
    <span class="comment">// é€™è£¡çš„ A æ˜¯æŒ‡æ¨™ï¼Œå› æ­¤ sizeof(A) æœƒå›å‚³æŒ‡æ¨™å¤§å°ï¼ˆ64 ä½å…ƒç³»çµ±é€šå¸¸ç‚º 8 bytesï¼‰</span>
    printf(<span class="string">"In the function, size of A: %zu bytes. Size of A[0]: %zu bytes\n"</span>,
           <span class="keyword">sizeof</span>(A), <span class="keyword">sizeof</span>(A[<span class="number">0</span>]));
    
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++) {
        sum += *(A + i); <span class="comment">// *(A + i) ç­‰åŒæ–¼ A[i]</span>
    }
    
    <span class="keyword">return</span> sum;
}

<span class="type">int</span> <span class="function">main</span>() {
    <span class="type">int</span> A[] = {<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>};
    
    <span class="comment">// åœ¨ main() ä¸­ï¼ŒA æ˜¯é™£åˆ—ï¼Œå› æ­¤ sizeof(A) æœƒè¨ˆç®—æ•´å€‹é™£åˆ—å¤§å°ï¼ˆ5 Ã— 4 = 20 bytesï¼‰</span>
    printf(<span class="string">"In the main, size of A: %zu bytes. Size of A[0]: %zu bytes\n"</span>,
           <span class="keyword">sizeof</span>(A), <span class="keyword">sizeof</span>(A[<span class="number">0</span>]));
    
    <span class="comment">// è¨ˆç®—é™£åˆ—å…ƒç´ å€‹æ•¸</span>
    <span class="type">int</span> size = <span class="keyword">sizeof</span>(A) / <span class="keyword">sizeof</span>(A[<span class="number">0</span>]); 
    
    <span class="comment">// å°‡é™£åˆ—é¦–ä½å€ &A[0] å’Œå¤§å° size å‚³å…¥å‡½å¼</span>
    printf(<span class="string">"Total of A is %d\n"</span>, sum(&A[<span class="number">0</span>], size));
    
    <span class="keyword">return</span> <span class="number">0</span>;
}
</pre></div>
          </div>
        </section>

        <section class="content-section" id="call-by-address">
          <div class="section-header"><div class="section-number">ğŸ“</div><h2 class="section-title">Call Array by Address è©³è§£</h2></div>
          <p class="content-text">ç•¶æˆ‘å€‘å°‡é™£åˆ—å‚³éçµ¦å‡½å¼æ™‚ï¼Œå¯¦éš›ä¸Šæ˜¯å‚³éé™£åˆ—ç¬¬ä¸€å€‹å…ƒç´ çš„ä½å€ã€‚</p>
          
          <div class="highlight-box">
            <div class="highlight-title">ğŸ” é‡é»ç­†è¨˜</div>
            <ul class="bullet-list">
              <li><code>int *A</code> åœ¨å‡½å¼åƒæ•¸ä¸­ç­‰åŒæ–¼ <code>int A[]</code>ï¼Œé™£åˆ—åœ¨å‚³éæ™‚æœƒé€€åŒ–ç‚ºæŒ‡æ¨™</li>
              <li><code>pow(x, 2)</code> å›å‚³ <code>double</code>ï¼Œä½†åœ¨é€™è£¡æœƒè¢«è‡ªå‹•è½‰å‹æˆ <code>int</code> å­˜å›é™£åˆ—</li>
              <li><code>&A[0]</code> å–å¾—é™£åˆ—ç¬¬ä¸€å€‹å…ƒç´ çš„ä½å€ï¼Œç”¨ä¾†å‚³éçµ¦æŒ‡æ¨™åƒæ•¸</li>
              <li><code>sizeof(A) / sizeof(A[0])</code> ç”¨æ–¼è¨ˆç®—é™£åˆ—é•·åº¦ï¼Œé¿å…æ­»äº¡é™£åˆ—å¤§å°</li>
            </ul>
          </div>

          <div class="code-container">
            <div class="code-header"><span class="code-label">å®Œæ•´å¯åŸ·è¡Œï¼šcall_by_address_demo.c</span><button class="copy-btn" onclick="copyCode(this,'code-3')">ğŸ“‹ è¤‡è£½</button></div>
            <div class="code-block" id="code-3"><pre><span class="comment">// call by address</span>
<span class="keyword">#include</span> &lt;stdio.h&gt;
<span class="keyword">#include</span> &lt;math.h&gt;

<span class="comment">// å‡½å¼ï¼šå°‡é™£åˆ—ä¸­æ¯å€‹å…ƒç´ å¹³æ–¹</span>
<span class="type">void</span> <span class="function">twotimes</span>(<span class="type">int</span>* A, <span class="type">int</span> size) {
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++) {
        <span class="comment">// pow(A[i], 2) å›å‚³ doubleï¼Œä½†æœƒè‡ªå‹•è½‰å‹æˆ int</span>
        *(A + i) = (<span class="type">int</span>)pow(*(A + i), <span class="number">2</span>);
    }
}

<span class="type">void</span> <span class="function">show</span>(<span class="type">int</span> *p, <span class="type">int</span> size) {
    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++) {
        <span class="comment">// *(p+i) ç­‰åƒ¹æ–¼ p[i]ï¼Œé€éæŒ‡æ¨™ä½ç§»å­˜å–é™£åˆ—å…ƒç´ </span>
        printf(<span class="string">"%d\t"</span>, *(p + i));
    }
    printf(<span class="string">"\n"</span>);
}

<span class="type">int</span> <span class="function">main</span>() {
    <span class="type">int</span> A[] = {<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>};
    
    <span class="comment">// è¨ˆç®—é™£åˆ—å…ƒç´ å€‹æ•¸</span>
    <span class="type">int</span> size = <span class="keyword">sizeof</span>(A) / <span class="keyword">sizeof</span>(A[<span class="number">0</span>]); 
    
    printf(<span class="string">"åŸå§‹é™£åˆ—: "</span>);
    show(&A[<span class="number">0</span>], size);
    
    <span class="comment">// å°‡æ¯å€‹å…ƒç´ å¹³æ–¹</span>
    twotimes(&A[<span class="number">0</span>], size);
    
    printf(<span class="string">"å¹³æ–¹å¾Œé™£åˆ—: "</span>);
    show(&A[<span class="number">0</span>], size);
    
    <span class="keyword">return</span> <span class="number">0</span>;
}
</pre></div>
          </div>
        </section>

        <section class="content-section" id="memory-layout">
          <div class="section-header"><div class="section-number">ğŸ§ </div><h2 class="section-title">è¨˜æ†¶é«”å¸ƒå±€åœ–è§£</h2></div>
          <p class="content-text">ç†è§£é™£åˆ—åœ¨è¨˜æ†¶é«”ä¸­çš„å¯¦éš›é…ç½®å’Œå‡½å¼å‘¼å«æ™‚çš„åƒæ•¸å‚³éï¼š</p>
          
          <div class="memory-diagram">
            <div style="text-align:left;max-width:600px;margin:0 auto;">
              <h4 style="color:var(--accent-primary);margin-bottom:10px;">main() å‡½å¼ä¸­ï¼š</h4>
              <table class="memory-table" style="margin-bottom:20px;">
                <tr>
                  <th>è®Šæ•¸</th>
                  <th>ä½å€</th>
                  <th>å€¼</th>
                  <th>sizeof çµæœ</th>
                </tr>
                <tr>
                  <td>A[0]</td>
                  <td>0x1000</td>
                  <td>1</td>
                  <td rowspan="5">sizeof(A) = 20 bytes<br/>(æ•´å€‹é™£åˆ—)</td>
                </tr>
                <tr>
                  <td>A[1]</td>
                  <td>0x1004</td>
                  <td>2</td>
                </tr>
                <tr>
                  <td>A[2]</td>
                  <td>0x1008</td>
                  <td>3</td>
                </tr>
                <tr>
                  <td>A[3]</td>
                  <td>0x100C</td>
                  <td>4</td>
                </tr>
                <tr>
                  <td>A[4]</td>
                  <td>0x1010</td>
                  <td>5</td>
                </tr>
              </table>
              
              <h4 style="color:var(--accent-primary);margin-bottom:10px;">sum() å‡½å¼ä¸­ï¼š</h4>
              <table class="memory-table">
                <tr>
                  <th>åƒæ•¸</th>
                  <th>å‹åˆ¥</th>
                  <th>å€¼</th>
                  <th>sizeof çµæœ</th>
                </tr>
                <tr>
                  <td>A</td>
                  <td>int*</td>
                  <td>0x1000</td>
                  <td>sizeof(A) = 8 bytes<br/>(æŒ‡æ¨™å¤§å°)</td>
                </tr>
                <tr>
                  <td>size</td>
                  <td>int</td>
                  <td>5</td>
                  <td>sizeof(size) = 4 bytes</td>
                </tr>
              </table>
            </div>
          </div>
        </section>

        <section class="content-section">
          <div class="section-header"><div class="section-number">âœ…</div><h2 class="section-title">æœ¬ç« é‡é»ç¸½çµ</h2></div>
          <ul class="bullet-list">
            <li><strong>é™£åˆ—é€€åŒ–</strong>ï¼šé™£åˆ—ä½œç‚ºå‡½å¼åƒæ•¸æ™‚æœƒé€€åŒ–æˆæŒ‡æ¨™ï¼Œå¤±å»åŸå§‹å¤§å°è³‡è¨Š</li>
            <li><strong>sizeof é™·é˜±</strong>ï¼šåœ¨å‡½å¼å…§å°é™£åˆ—åƒæ•¸ä½¿ç”¨ sizeof åªæœƒå¾—åˆ°æŒ‡æ¨™å¤§å°ï¼Œä¸æ˜¯é™£åˆ—å¤§å°</li>
            <li><strong>æ­£ç¢ºåšæ³•</strong>ï¼šå°‡é™£åˆ—å¤§å°ä½œç‚ºé¡å¤–åƒæ•¸ä¸€èµ·å‚³å…¥å‡½å¼</li>
            <li><strong>åƒæ•¸ç­‰åƒ¹æ€§</strong>ï¼š<code>int *A</code>ã€<code>int A[]</code>ã€<code>int A[10]</code> åœ¨å‡½å¼åƒæ•¸ä¸­å®Œå…¨ç­‰åƒ¹</li>
            <li><strong>å‚³å€ç‰¹æ€§</strong>ï¼šé™£åˆ—å‚³éæœ¬è³ªä¸Šæ˜¯å‚³å€å‘¼å«ï¼Œå‡½å¼å…§çš„ä¿®æ”¹æœƒå½±éŸ¿åŸé™£åˆ—</li>
            <li><strong>è¨˜æ†¶é«”å¸ƒå±€</strong>ï¼šç†è§£é™£åˆ—åœ¨è¨˜æ†¶é«”ä¸­é€£çºŒå­˜æ”¾ï¼Œå‡½å¼åªæ¥æ”¶é¦–å…ƒç´ ä½å€</li>
          </ul>
          
          <div class="error-box">
            <div class="error-title">âš ï¸ é‡è¦æé†’</div>
            <p>è¨˜ä½ï¼šåœ¨ main() å‡½å¼ä¸­ <code>sizeof(array)</code> å¯ä»¥æ­£ç¢ºè¨ˆç®—é™£åˆ—å¤§å°ï¼Œä½†åœ¨å…¶ä»–å‡½å¼ä¸­çš„é™£åˆ—åƒæ•¸åªèƒ½å¾—åˆ°æŒ‡æ¨™å¤§å°ã€‚é€™æ˜¯ C èªè¨€çš„é‡è¦ç‰¹æ€§ï¼Œå‹™å¿…ç‰¢è¨˜ï¼</p>
          </div>
          
          <div class="highlight-box">
            <div class="highlight-title">ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ</div>
            <p>é™£åˆ—ä½œç‚ºå‡½å¼åƒæ•¸çš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ã€Œé™£åˆ—é€€åŒ–ç‚ºæŒ‡æ¨™ã€ã€‚é€™å€‹ç‰¹æ€§è®“é™£åˆ—å‚³éè®Šå¾—é«˜æ•ˆï¼ˆåªå‚³éä½å€ï¼‰ï¼Œä½†ä¹Ÿè¦æ±‚ç¨‹å¼è¨­è¨ˆå¸«é¡å¤–ç®¡ç†é™£åˆ—å¤§å°è³‡è¨Šã€‚æŒæ¡é€™å€‹æ¦‚å¿µæ˜¯ç†è§£ C èªè¨€å‡½å¼è¨­è¨ˆçš„é—œéµã€‚</p>
          </div>
        </section>
      </main>

      <nav class="navigation">
        <a href="chapter6.html" class="nav-btn prev"><div><div class="nav-direction">â† ä¸Šä¸€é </div><div class="nav-title">Pointers and Arrays</div></div></a>
        <div class="nav-center"><div style="font-weight:600;">Chapter 7 / 18</div><div style="font-size:.9em;">Array as Function Argument</div></div>
        <a href="chapter8.html" class="nav-btn"><div><div class="nav-direction">ä¸‹ä¸€é  â†’</div><div class="nav-title">Character Arrays and Pointers - part 1</div></div></a>
      </nav>
    </div>
  </div>

  <script>
    function toggleTheme(){const body=document.body,themeIcon=document.getElementById('theme-icon');const cur=body.getAttribute('data-theme');if(cur==='dark'){body.setAttribute('data-theme','light');themeIcon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>';localStorage.setItem('theme','light');}else{body.setAttribute('data-theme','dark');themeIcon.innerHTML = '<circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path>';localStorage.setItem('theme','dark');}}
    function loadTheme(){const saved=localStorage.getItem('theme')||'light';const themeIcon=document.getElementById('theme-icon');document.body.setAttribute('data-theme',saved);if(saved==='dark'){themeIcon.innerHTML = '<circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path>';}else{themeIcon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>';}}
    function toggleSubMenu(element){event.preventDefault();const arrow=element.querySelector('.arrow');const subMenu=element.parentElement.querySelector('.sub-menu');if(subMenu){arrow.classList.toggle('expanded');subMenu.classList.toggle('show');}}
    function copyCode(btn,id){const code=document.getElementById(id).querySelector('pre').textContent;navigator.clipboard.writeText(code).then(()=>{const t=btn.textContent;btn.textContent='âœ… å·²è¤‡è£½';btn.classList.add('copied');setTimeout(()=>{btn.textContent=t;btn.classList.remove('copied')},2000)}).catch(()=>{const ta=document.createElement('textarea');ta.value=code;document.body.appendChild(ta);ta.select();document.execCommand('copy');document.body.removeChild(ta);const t=btn.textContent;btn.textContent='âœ… å·²è¤‡è£½';btn.classList.add('copied');setTimeout(()=>{btn.textContent=t;btn.classList.remove('copied')},2000)})}
    document.addEventListener('DOMContentLoaded',()=>loadTheme());
  </script>
</body>
</html>