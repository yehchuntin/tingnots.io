<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3. Pointer types, pointer arithmetic, void pointers | Cèªè¨€æŒ‡æ¨™æ•™å­¸</title>
    <meta name="description" content="æ·±å…¥ç†è§£å„ç¨®æŒ‡æ¨™å‹åˆ¥ã€æŒ‡æ¨™é‹ç®—ï¼ˆæ­¥å¹…ï¼‰ã€ä»¥åŠ void* çš„ç”¨é€”èˆ‡é™åˆ¶ã€‚å«è¨˜æ†¶é«”åœ–è§£èˆ‡å¯è¤‡è£½ç¯„ä¾‹ç¨‹å¼ã€‚" />

    <style>
        :root {
            /* æ·ºè‰²æ¨¡å¼ */
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-card: #ffffff;
            --text-primary: #2c3e50;
            --text-secondary: #6c757d;
            --accent-primary: #3498db;
            --accent-secondary: #2980b9;
            --border-color: #e9ecef;
            --shadow-light: rgba(0, 0, 0, 0.1);
            --shadow-medium: rgba(0, 0, 0, 0.15);
            --gradient-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --code-bg: #1e1e1e;
            --code-text: #f8f8f2;
            --theme-btn-bg: rgba(0, 0, 0, 0.1);
            --theme-btn-border: rgba(0, 0, 0, 0.2);
            --theme-btn-icon: rgba(0, 0, 0, 0.7);
        }

        [data-theme="dark"] {
            /* æ·±è‰²æ¨¡å¼ */
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d3748;
            --bg-card: #2d3748;
            --text-primary: #f7fafc;
            --text-secondary: #a0aec0;
            --accent-primary: #4299e1;
            --accent-secondary: #3182ce;
            --border-color: #4a5568;
            --shadow-light: rgba(0, 0, 0, 0.3);
            --shadow-medium: rgba(0, 0, 0, 0.4);
            --gradient-bg: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
            --code-bg: #1a202c;
            --code-text: #f7fafc;
            --theme-btn-bg: rgba(255, 255, 255, 0.1);
            --theme-btn-border: rgba(255, 255, 255, 0.3);
            --theme-btn-icon: rgba(255, 255, 255, 0.8);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--gradient-bg);
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 30px;
        }

        /* å·¦å´ç›®éŒ„ */
        .sidebar { position: sticky; top: 20px; height: fit-content; }
        .toc-widget {
            background: var(--bg-card);
            border-radius: 15px;
            box-shadow: 0 8px 32px var(--shadow-light);
            border: 1px solid var(--border-color);
            overflow: hidden;
        }
        .toc-header { padding: 20px; border-bottom: 1px solid var(--border-color); text-align: center; }
        .toc-title { font-size: 1.1em; font-weight: 600; color: var(--text-primary); }
        .toc-body { padding: 15px; max-height: 70vh; overflow-y: auto; }
        .toc-list { list-style: none; }
        .toc-item { margin-bottom: 3px; }
        .toc-link {
            display: block; color: var(--text-secondary); text-decoration: none;
            padding: 8px 12px; border-radius: 8px; transition: all 0.3s ease;
            font-size: 0.85em; line-height: 1.4;
        }
        .toc-link:hover { background: var(--bg-secondary); color: var(--accent-primary); transform: translateX(3px); }
        .toc-link.active { background: var(--accent-primary); color: white; }
        .toc-link.has-submenu { cursor: pointer; position: relative; }
        .arrow { display: inline-block; transition: transform 0.3s ease; margin-right: 8px; font-size: 0.7em; color: var(--accent-primary); }
        .arrow.expanded { transform: rotate(90deg); }
        .sub-menu { list-style: none; margin-left: 15px; margin-top: 5px; padding-left: 15px; border-left: 2px solid var(--border-color); max-height: 0; overflow: hidden; transition: max-height 0.4s ease; }
        .sub-menu.show { max-height: 400px; margin-bottom: 10px; }
        .sub-menu .toc-link { padding: 6px 10px; font-size: 0.8em; }

        .section-number {
            background: var(--accent-primary);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
        }

        /* ä¸»è¦å…§å®¹å€åŸŸ */
        .main-area { min-width: 0; }
        .header {
            background: var(--bg-card);
            border-radius: 15px; padding: 25px 30px; margin-bottom: 25px;
            box-shadow: 0 8px 32px var(--shadow-light); border: 1px solid var(--border-color);
            position: relative;
        }
        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--theme-btn-bg);
            border: 2px solid var(--theme-btn-border);
            color: var(--theme-btn-icon);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .theme-toggle:hover {
            border-color: var(--accent-primary);
            background: var(--accent-primary);
            color: white;
            transform: scale(1.1);
        }

        .theme-icon {
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
            transition: all 0.3s ease;
        }
        .breadcrumb { color: var(--text-secondary); font-size: 0.85em; margin-bottom: 12px; }
        .breadcrumb a { color: var(--accent-primary); text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }
        .chapter-title { font-size: 1.8em; font-weight: 700; color: var(--text-primary); margin-bottom: 8px; }
        .chapter-subtitle { color: var(--text-secondary); font-size: 1em; }

        .main-content { background: var(--bg-card); border-radius: 15px; box-shadow: 0 8px 32px var(--shadow-light); border: 1px solid var(--border-color); overflow: hidden; margin-bottom: 25px; }
        .content-section { padding: 30px; border-bottom: 1px solid var(--border-color); }
        .content-section:last-child { border-bottom: none; }
        .section-header { display: flex; align-items: center; gap: 12px; margin-bottom: 20px; }
        .section-number { background: var(--accent-primary); color: white; width: 35px; height: 35px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 16px; font-weight: bold; }
        .section-title { font-size: 1.3em; font-weight: 600; color: var(--text-primary); }
        .content-text { color: var(--text-secondary); font-size: 1em; line-height: 1.6; margin-bottom: 15px; }
        .highlight-box { background: linear-gradient(135deg, var(--accent-primary)10, var(--accent-secondary)10); border-left: 4px solid var(--accent-primary); border-radius: 8px; padding: 18px; margin: 18px 0; }
        .highlight-title { color: var(--accent-primary); font-weight: 600; margin-bottom: 8px; }
        .bullet-list { list-style: none; margin: 12px 0; }
        .bullet-list li { position: relative; padding-left: 20px; margin-bottom: 6px; color: var(--text-secondary); }
        .bullet-list li:before { content: 'â€¢'; color: var(--accent-primary); font-weight: bold; position: absolute; left: 0; }

        /* ç¨‹å¼ç¢¼å€å¡Š */
        .code-container { position: relative; margin: 20px 0; }
        .code-header { display: flex; justify-content: space-between; align-items: center; background: var(--code-bg); color: var(--code-text); padding: 10px 18px; border-radius: 10px 10px 0 0; border-bottom: 1px solid #333; }
        .code-label { font-size: 0.85em; color: #888; }
        .copy-btn { background: transparent; border: 1px solid #555; color: #888; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 0.75em; transition: all 0.3s ease; }
        .copy-btn:hover { background: #333; color: #fff; border-color: #666; }
        .copy-btn.copied { background: #27ae60; color: white; border-color: #27ae60; }
        .code-block { background: var(--code-bg); color: var(--code-text); padding: 18px; border-radius: 0 0 10px 10px; overflow-x: auto; font-family: 'Fira Code', 'Courier New', monospace; font-size: 0.85em; line-height: 1.4; }
        .code-block pre { margin: 0; white-space: pre-wrap; }

        /* è¨˜æ†¶é«”ç¤ºæ„åœ– */
        .memory-diagram { background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 10px; padding: 20px; margin: 20px 0; text-align: center; }
        .memory-table { display: inline-block; border-collapse: collapse; border: 2px solid var(--accent-primary); border-radius: 6px; overflow: hidden; }
        .memory-table th { background: var(--accent-primary); color: white; padding: 10px 18px; font-weight: 600; }
        .memory-table td { background: var(--bg-card); color: var(--text-primary); padding: 10px 18px; border-bottom: 1px solid var(--border-color); font-family: monospace; font-size: 1em; }
        .memory-table tr:last-child td { border-bottom: none; }

        /* å°èˆªæŒ‰éˆ• */
        .navigation { display: flex; justify-content: space-between; align-items: center; background: var(--bg-card); border-radius: 15px; padding: 20px 25px; box-shadow: 0 8px 32px var(--shadow-light); border: 1px solid var(--border-color); gap: 20px; }
        .nav-btn { display: flex; align-items: center; gap: 10px; background: var(--accent-primary); color: white; padding: 12px 20px; border-radius: 10px; text-decoration: none; transition: all 0.3s ease; font-weight: 500; flex: 1; max-width: 250px; }
        .nav-btn:hover { background: var(--accent-secondary); transform: translateY(-2px); box-shadow: 0 8px 20px var(--shadow-medium); color: white; text-decoration: none; }
        .nav-btn.prev { background: var(--text-secondary); }
        .nav-btn.prev:hover { background: #5a6c7d; }
        .nav-direction { font-size: 0.75em; opacity: 0.8; }
        .nav-title { font-size: 0.9em; font-weight: 600; }
        .nav-center { text-align: center; color: var(--text-secondary); }

        @media (max-width: 1024px) { .container { grid-template-columns: 1fr; gap: 20px; } .sidebar { position: static; order: 2; } .main-area { order: 1; } }
        @media (max-width: 768px) { .container { padding: 15px; } .header { padding: 20px 15px; } .content-section { padding: 20px 15px; } .chapter-title { font-size: 1.5em; } .navigation { flex-direction: column; gap: 12px; } .nav-btn { max-width: none; } }

        /* èªæ³•é«˜äº®ï¼ˆéœæ…‹è‰²ï¼‰ */
        .keyword { color: #ff79c6; }
        .string { color: #f1fa8c; }
        .comment { color: #6272a4; }
        .number { color: #bd93f9; }
        .function { color: #50fa7b; }
        .type { color: #8be9fd; }
    </style>
</head>
<body>
    <div class="container">
        <aside class="sidebar">
        <div class="toc-widget">
            <div class="toc-header">
            <h3 class="toc-title">ğŸ“š èª²ç¨‹ç›®éŒ„</h3>
            </div>
            <div class="toc-body">
            <ul class="toc-list">
                <li class="toc-item">
                <a href="chapter1.html" class="toc-link">
                    1. Introduction to pointers in C/C++
                </a>
                </li>
                <li class="toc-item">
                <a href="chapter2.html" class="toc-link">
                    2. Work with Pointers
                </a>
                </li>
                <li class="toc-item">
                <a href="chapter3.html" class="toc-link active">
                    3. Pointer types, pointer arithmetic, void pointers
                </a>
                </li>
                <li class="toc-item">
                <a href="chapter4.html" class="toc-link">
                    4. Pointers to Pointers
                </a>
                </li>
                <li class="toc-item">
                <a href="chapter5.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                    <span class="arrow">â–¶</span> 5. Call by Reference
                </a>
                <ul class="sub-menu">
                    <li><a href="chapter5.html#memory-blocks" class="toc-link">è¨˜æ†¶é«”å€å¡Š</a></li>
                    <li><a href="chapter5.html#call-by-address" class="toc-link">å‚³å€å‘¼å«</a></li>
                    <li><a href="chapter5.html#call-by-value" class="toc-link">å‚³å€¼å‘¼å«</a></li>
                </ul>
                </li>
                <li class="toc-item">
                <a href="chapter6.html" class="toc-link">
                    6. Pointers and Arrays
                </a>
                </li>
                <li class="toc-item">
                <a href="chapter7.html" class="toc-link">
                    7. Array as function argument
                </a>
                </li>
                <li class="toc-item">
                <a href="chapter8.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                    <span class="arrow">â–¶</span> 8. Character arrays and pointers - part 1
                </a>
                <ul class="sub-menu">
                    <li><a href="chapter8.html#string-basics" class="toc-link">å­—ä¸²åŸºæœ¬æ¦‚å¿µ</a></li>
                    <li><a href="chapter8.html#string-pointers" class="toc-link">å­—ä¸²èˆ‡æŒ‡æ¨™</a></li>
                    <li><a href="chapter8.html#string-functions" class="toc-link">å­—ä¸²å‚³å…¥å‡½å¼</a></li>
                </ul>
                </li>
                <li class="toc-item">
                <a href="chapter9.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                    <span class="arrow">â–¶</span> 9. Character arrays and pointers - part 2
                </a>
                <ul class="sub-menu">
                    <li><a href="chapter9.html#memory-stack" class="toc-link">è¨˜æ†¶é«”èˆ‡Stackè§£æ</a></li>
                    <li><a href="chapter9.html#readonly-memory" class="toc-link">å”¯è®€è¨˜æ†¶é«”</a></li>
                </ul>
                </li>
                <li class="toc-item">
                <a href="chapter10.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                    <span class="arrow">â–¶</span> 10. Pointers and 2-D arrays
                </a>
                <ul class="sub-menu">
                    <li><a href="chapter10.html#2d-usage" class="toc-link">2D æŒ‡æ¨™é™£åˆ—çš„ä½¿ç”¨</a></li>
                    <li><a href="chapter10.html#2d-access" class="toc-link">2ç¶­é™£åˆ—çš„å­˜å–ç­‰åƒ¹å¼</a></li>
                </ul>
                </li>
                <li class="toc-item">
                <a href="chapter11.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                    <span class="arrow">â–¶</span> 11. Pointers and multidimensional arrays
                </a>
                <ul class="sub-menu">
                    <li><a href="chapter11.html#array-types" class="toc-link">é™£åˆ—å‚³å…¥å‡½å¼çš„å‹æ…‹è¦å‰‡</a></li>
                    <li><a href="chapter11.html#3d-access" class="toc-link">ä¸‰ç¶­é™£åˆ—çš„å­˜å–ç­‰åƒ¹å¼</a></li>
                </ul>
                </li>
                <li class="toc-item">
                <a href="chapter12.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                    <span class="arrow">â–¶</span> 12. Pointers and dynamic memory - stack vs heap
                </a>
                <ul class="sub-menu">
                    <li><a href="chapter12.html#memory-allocation" class="toc-link">C å‡½å¼åŸ·è¡Œèˆ‡è¨˜æ†¶é«”é…ç½®</a></li>
                    <li><a href="chapter12.html#stack-overflow" class="toc-link">Stack Overflow æ˜¯ä»€éº¼ï¼Ÿ</a></li>
                    <li><a href="chapter12.html#heap-usage" class="toc-link">Heap æ˜¯ä»€éº¼ï¼Ÿ</a></li>
                    <li><a href="chapter12.html#malloc-diagram" class="toc-link">malloc çš„è¨˜æ†¶é«”é…ç½®å‹•æ…‹èˆ‡åœ–è§£</a></li>
                </ul>
                </li>
                <li class="toc-item">
                <a href="chapter13.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                    <span class="arrow">â–¶</span> 13. Dynamic memory allocation
                </a>
                <ul class="sub-menu">
                    <li><a href="chapter13.html#malloc" class="toc-link">malloc</a></li>
                    <li><a href="chapter13.html#calloc" class="toc-link">calloc</a></li>
                    <li><a href="chapter13.html#realloc" class="toc-link">realloc</a></li>
                </ul>
                </li>
                <li class="toc-item">
                <a href="chapter14.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                    <span class="arrow">â–¶</span> 14. Pointers as Function Returns
                </a>
                <ul class="sub-menu">
                    <li><a href="chapter14.html#malloc-free" class="toc-link">malloc èˆ‡ free å¾Œçš„æŒ‡æ¨™è¡Œç‚º</a></li>
                    <li><a href="chapter14.html#realloc-behavior" class="toc-link">realloc èª¿æ•´è¨˜æ†¶é«”å¤§å°</a></li>
                    <li><a href="chapter14.html#heap-stack-diff" class="toc-link">Heap èˆ‡ Stack å›å‚³æŒ‡æ¨™å·®ç•°</a></li>
                </ul>
                </li>
                <li class="toc-item">
                <a href="chapter15.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                    <span class="arrow">â–¶</span> 15. Function Pointers
                </a>
                <ul class="sub-menu">
                    <li><a href="chapter15.html#theory" class="toc-link">function pointeråŸç†è§£é‡‹</a></li>
                    <li><a href="chapter15.html#practice" class="toc-link">function pointerå¯¦ä¾‹æ“ä½œ</a></li>
                </ul>
                </li>
                <li class="toc-item">
                <a href="chapter16.html" class="toc-link has-submenu" onclick="toggleSubMenu(this)">
                    <span class="arrow">â–¶</span> 16. Function Pointers and Callbacks
                </a>
                <ul class="sub-menu">
                    <li><a href="chapter16.html#basic-example" class="toc-link">function pointer åŸºæœ¬ç¯„ä¾‹</a></li>
                    <li><a href="chapter16.html#bubble-sort" class="toc-link">BubbleSort by Callback</a></li>
                    <li><a href="chapter16.html#advanced-sort" class="toc-link">å»¶ä¼¸æ‡‰ç”¨ï¼šå¤šç¨®æ’åºé‚è¼¯</a></li>
                    <li><a href="chapter16.html#quick-sort" class="toc-link">QuickSort by Callback</a></li>
                </ul>
                </li>
                <li class="toc-item"><a href="chapter17.html" class="toc-link">17. Memory Leak in C/C++</a></li>
                <li class="toc-item"><a href="chapter18.html" class="toc-link">18. æœ€çµ‚ç¸½çµ â€” C èªè¨€ Pointer æ€ç¶­åœ°åœ–</a></li>
            </ul>
            </div>
        </div>
        </aside>


        <div class="main-area">
            <header class="header">
                <button class="theme-toggle" onclick="toggleTheme()" title="åˆ‡æ›æ·±æ·ºè‰²æ¨¡å¼">
                    <svg class="theme-icon" id="theme-icon" width="20" height="20" viewBox="0 0 24 24">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
                <div class="breadcrumb"><a href="../index.html">é¦–é </a> / <span>Chapter 3</span></div>
                <h1 class="chapter-title">3. Pointer types, pointer arithmetic, void pointers</h1>
                <p class="chapter-subtitle">å‹åˆ¥ã€è§£åƒè€ƒã€ä½å…ƒçµ„è§€å¯Ÿã€æ­¥å¹…é‹ç®—ã€åŠ void* çš„å®‰å…¨ä½¿ç”¨</p>
            </header>

            <main class="main-content">
                <section class="content-section">
                    <div class="section-header"><div class="section-number">ğŸ–¼ï¸</div><h2 class="section-title">ç« ç¯€å°é¢ï¼ˆå ä½ï¼‰</h2></div>
                    <p class="content-text">è«‹å°‡ä½ çš„åœ–ç‰‡æ”¾åœ¨ <code>images/</code> è³‡æ–™å¤¾ï¼Œæª”åä¾‹å¦‚ <code>ch3-cover.png</code>ï¼Œä¸¦æŠŠä¸‹æ–¹ <code>src</code> æ›æˆå°æ‡‰è·¯å¾‘ã€‚</p>
                    <div class="memory-diagram">
                        <img src="images/ch3-cover.png" alt="Chapter 3 Cover" style="max-width:100%; height:auto; opacity:.6" />
                    </div>
                </section>

                <section class="content-section" id="pointer-types">
                    <div class="section-header"><div class="section-number">A</div><h2 class="section-title">æŒ‡æ¨™ã€Œå‹åˆ¥ã€çš„ä½å€é‚Šç•Œ</h2></div>
                    <p class="content-text">æŒ‡æ¨™æœ¬èº«å„²å­˜çš„æ˜¯ä½å€ï¼Œä½† <strong>æŒ‡æ¨™çš„å‹åˆ¥</strong>ï¼ˆä¾‹å¦‚ <code>int*</code>ã€<code>double*</code>ï¼‰æ±ºå®šäº†ï¼š</p>
                    <ul class="bullet-list">
                        <li>è§£åƒè€ƒæ™‚ä¸€æ¬¡è®€/å¯«å¤šå°‘ä½å…ƒçµ„ï¼ˆ<code>sizeof(æ‰€æŒ‡å‘å‹åˆ¥)</code>ï¼‰ã€‚</li>
                        <li>æŒ‡æ¨™åŠ æ¸›ï¼ˆ<code>p + n</code>ï¼‰æ™‚çš„ä½ç§»æ­¥å¹…ï¼ˆä»¥å…ƒç´ ç‚ºå–®ä½ï¼Œè€Œä¸æ˜¯ä½å…ƒçµ„ï¼‰ã€‚</li>
                    </ul>

                    <div class="code-container">
                        <div class="code-header"><span class="code-label">ç¯„ä¾‹ï¼šå‹åˆ¥æ±ºå®šè®€å¯«é‚Šç•Œ</span><button class="copy-btn" onclick="copyCode(this,'code-a-1')">ğŸ“‹ è¤‡è£½</button></div>
                        <div class="code-block" id="code-a-1"><pre><span class="keyword">#include</span> &lt;stdio.h&gt;

<span class="type">int</span> <span class="function">main</span>(<span class="type">void</span>) {
    <span class="type">int</span>  a = <span class="number">0x01020304</span>;  <span class="comment">// å‡è¨­ int ç‚º 4 bytes</span>
    <span class="type">int</span>* ip = &a;              <span class="comment">// æŒ‡å‘æ•´æ•¸</span>
    <span class="type">char</span>* cp = (<span class="type">char</span>*)&a;      <span class="comment">// ç”¨ä½å…ƒçµ„è¦–è§’çœ‹åŒä¸€å¡Šè¨˜æ†¶é«”</span>

    printf(<span class="string">"*ip = %x\n"</span>, *ip);  <span class="comment">// ä¸€æ¬¡å– 4 bytes</span>
    printf(<span class="string">"cp[0] = %x, cp[1] = %x\n"</span>, cp[0], cp[1]); <span class="comment">// ä¸€æ¬¡å– 1 byte</span>
}
</pre></div>
                    </div>

                    <div class="highlight-box"><div class="highlight-title">ğŸ’¡ æé†’</div>
                        <p>åŒä¸€å€‹ä½å€ï¼Œä»¥ä¸åŒå‹åˆ¥è§£åƒè€ƒï¼Œè¦–è§’ä¸åŒã€é‚Šç•Œä¸åŒã€‚ä»¥ <code>char*</code> è§€å¯Ÿæœ€ç´°ï¼ˆ1 byteï¼‰ã€‚</p>
                    </div>
                </section>

                <section class="content-section" id="dereference">
                    <div class="section-header"><div class="section-number">B</div><h2 class="section-title">è§£åƒè€ƒï¼ˆdereferenceï¼‰â€” å–å€¼ / æ”¹å€¼</h2></div>
                    <p class="content-text">ä½¿ç”¨ <code>*p</code> å–å‡ºä½å€ä¸­çš„å…§å®¹ã€æˆ–å¯«å›æ–°å€¼ã€‚æ³¨æ„ï¼šå°é½Šèˆ‡æœ‰æ•ˆä½å€æ˜¯å‰æï¼Œå¦å‰‡é€ æˆæœªå®šç¾©è¡Œç‚ºã€‚</p>
                    <div class="code-container">
                        <div class="code-header"><span class="code-label">ç¯„ä¾‹ï¼šé€éæŒ‡æ¨™è®€å¯«åŒä¸€å€‹è®Šæ•¸</span><button class="copy-btn" onclick="copyCode(this,'code-b-1')">ğŸ“‹ è¤‡è£½</button></div>
                        <div class="code-block" id="code-b-1"><pre><span class="keyword">#include</span> &lt;stdio.h&gt;

<span class="type">int</span> <span class="function">main</span>() {
    <span class="type">int</span> a = <span class="number">1025</span>;
    <span class="type">int</span>* p = &a;

    printf(<span class="string">"&a = %p, p = %p\n"</span>, (void*)&a, (void*)p);
    printf(<span class="string">"*p(before) = %d\n"</span>, *p);

    *p = <span class="number">2048</span>;  <span class="comment">// æ”¹è®Š a</span>
    printf(<span class="string">"a(after) = %d\n"</span>, a);
    <span class="keyword">return</span> <span class="number">0</span>;
}
</pre></div>
                    </div>
                </section>

                <section class="content-section" id="char-view">
                    <div class="section-header"><div class="section-number">C</div><h2 class="section-title">ç”¨ <code>char*</code> çœ‹åŒä¸€å¡Šè¨˜æ†¶é«”çš„ã€Œæ¯å€‹ä½å…ƒçµ„ã€</h2></div>
                    <p class="content-text">C èªè¨€ä¿è­‰ <code>sizeof(char) == 1</code>ï¼Œæ‰€ä»¥æŠŠä»»æ„å‹åˆ¥çš„ä½å€è½‰æˆ <code>char*</code> å¾Œï¼Œå¯ä»¥é€ä¸€æª¢è¦–æ¯å€‹ä½å…ƒçµ„ï¼ˆå¸¸ç”¨æ–¼ä½å…ƒçµ„åºè½‰æ›ã€åºåˆ—åŒ–ã€é™¤éŒ¯ï¼‰ã€‚</p>
                    <div class="code-container">
                        <div class="code-header"><span class="code-label">ç¯„ä¾‹ï¼šbyte è§€å¯Ÿï¼ˆç¤ºæ„ little-endianï¼‰</span><button class="copy-btn" onclick="copyCode(this,'code-c-1')">ğŸ“‹ è¤‡è£½</button></div>
                        <div class="code-block" id="code-c-1"><pre><span class="keyword">#include</span> &lt;stdio.h&gt;

<span class="type">int</span> <span class="function">main</span>() {
    <span class="type">int</span> a = <span class="number">1025</span>; <span class="comment">// äºŒé€²ä½ 00000000 00000000 00000100 00000001 </span>
    <span class="type">char</span>* p = (<span class="type">char</span>*)&a;

    printf(<span class="string">"a = %d (0x%08x)\n"</span>, a, a);
    printf(<span class="string">"p[0] = 0x%02x, p[1] = 0x%02x, p[2] = 0x%02x, p[3] = 0x%02x\n"</span>,
           (<span class="type">unsigned</span> <span class="type">char</span>)p[0], (<span class="type">unsigned</span> <span class="type">char</span>)p[1],
           (<span class="type">unsigned</span> <span class="type">char</span>)p[2], (<span class="type">unsigned</span> <span class="type">char</span>)p[3]);
}
</pre></div>
                    </div>
                    <div class="highlight-box"><div class="highlight-title">ğŸ” little vs big endian</div>
                        <p>little-endian æœƒæŠŠæœ€ä½æœ‰æ•ˆä½å…ƒçµ„æ”¾åœ¨æœ€ä½ä½å€ï¼›big-endian ç›¸åã€‚è§€å¯Ÿé †åºæœƒä¸åŒï¼Œä½† <code>a</code> çš„æ•¸å€¼ä¸è®Šã€‚</p>
                    </div>
                </section>

                <section class="content-section" id="pointer-arith">
                    <div class="section-header"><div class="section-number">D</div><h2 class="section-title">æŒ‡æ¨™é‹ç®—ï¼šæ­¥å¹…ï¼ˆstrideï¼‰ç”±å‹åˆ¥æ±ºå®š</h2></div>
                    <p class="content-text">å°æŒ‡æ¨™åš <code>+1</code>ã€<code>-1</code>ï¼Œä¸æ˜¯ä½å€ <em>åŠ  1 byte</em>ï¼Œè€Œæ˜¯ä½å€ <strong>åŠ ä¸ŠæŒ‡å‘å‹åˆ¥çš„å¤§å°</strong>ã€‚ä¾‹å¦‚ <code>int*</code> åœ¨å¤šæ•¸å¹³å°æ˜¯ 4 bytes æ­¥å¹…ï¼Œ<code>char*</code> å‰‡æ˜¯ 1 byteã€‚</p>

                    <div class="code-container">
                        <div class="code-header"><span class="code-label">ç¯„ä¾‹ï¼šåŒä¸€å¡Šé™£åˆ—ï¼Œå…©ç¨®æŒ‡æ¨™èµ°æ³•</span><button class="copy-btn" onclick="copyCode(this,'code-d-1')">ğŸ“‹ è¤‡è£½</button></div>
                        <div class="code-block" id="code-d-1"><pre><span class="keyword">#include</span> &lt;stdio.h&gt;

<span class="type">int</span> <span class="function">main</span>() {
    <span class="type">int</span> a[<span class="number">3</span>] = {<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>};
    <span class="type">int</span>* ip = a;        <span class="comment">// ç­‰åŒ &a[0]</span>
    <span class="type">char</span>* cp = (<span class="type">char</span>*)a; <span class="comment">// ä»¥ byte ç‚ºå–®ä½ç§»å‹•</span>

    printf(<span class="string">"ip     = %p, ip+1 = %p\n"</span>, (void*)ip, (void*)(ip+1));
    printf(<span class="string">"cp     = %p, cp+1 = %p\n"</span>, (void*)cp, (void*)(cp+1));

    <span class="comment">// ç”¨ ip é€å…ƒç´ è®€</span>
    printf(<span class="string">"*ip = %d, *(ip+1) = %d\n"</span>, *ip, *(ip+1));
}
</pre></div>
                    </div>

                    <div class="memory-diagram">
                        <table class="memory-table">
                            <thead><tr><th>ä½å€</th><th>å…§å®¹ï¼ˆint é™£åˆ—ï¼‰</th></tr></thead>
                            <tbody>
                                <tr><td>0x100</td><td>a[0] = 10</td></tr>
                                <tr><td>0x104</td><td>a[1] = 20</td></tr>
                                <tr><td>0x108</td><td>a[2] = 30</td></tr>
                            </tbody>
                        </table>
                        <p class="content-text" style="margin-top:10px">è‹¥ <code>sizeof(int)=4</code>ï¼Œå‰‡ <code>ip+1</code> è·³åˆ°ä¸‹ä¸€å€‹å…ƒç´ ä½ç½®ï¼ˆ0x104ï¼‰ï¼Œ
                        è€Œ <code>cp+1</code> åªå‰é€² 1 byteã€‚</p>
                    </div>
                </section>

                <section class="content-section" id="void-pointer">
                    <div class="section-header"><div class="section-number">E</div><h2 class="section-title">ç‚ºä»€éº¼éœ€è¦ <code>void*</code> æŒ‡æ¨™ï¼Ÿ</h2></div>
                    <p class="content-text"><code>void*</code> å¯æŒ‡å‘ä»»æ„å‹åˆ¥çš„ä½å€ï¼Œå¸¸ç”¨æ–¼æ³›å‹å®¹å™¨æˆ– APIï¼ˆä¾‹å¦‚ <code>qsort</code> çš„æ¯”è¼ƒå‡½å¼ï¼‰ã€‚
                    ä½† <strong>ä¸èƒ½ç›´æ¥è§£åƒè€ƒ</strong>ï¼Œå¿…é ˆ<strong>å…ˆè½‰å‹</strong>å›æ­£ç¢ºå‹åˆ¥ï¼Œå¦å‰‡ç·¨è­¯å™¨ä¸çŸ¥é“å…ƒç´ å¤§å°èˆ‡èªæ„ã€‚</p>

                    <div class="code-container">
                        <div class="code-header"><span class="code-label">ç¯„ä¾‹ï¼šä½¿ç”¨ void* ä¿å­˜ä¸åŒå‹åˆ¥ï¼Œå†æ­£ç¢ºè½‰å›</span><button class="copy-btn" onclick="copyCode(this,'code-e-1')">ğŸ“‹ è¤‡è£½</button></div>
                        <div class="code-block" id="code-e-1"><pre><span class="keyword">#include</span> &lt;stdio.h&gt;

<span class="type">void</span> <span class="function">print_int</span>(<span class="type">void</span>* vp) {
    <span class="type">int</span>* ip = (<span class="type">int</span>*)vp;          <span class="comment">// è½‰å› int*</span>
    printf(<span class="string">"int: %d\n"</span>, *ip);
}

<span class="type">void</span> <span class="function">print_double</span>(<span class="type">void</span>* vp) {
    <span class="type">double</span>* dp = (<span class="type">double</span>*)vp;  <span class="comment">// è½‰å› double*</span>
    printf(<span class="string">"double: %.2f\n"</span>, *dp);
}

<span class="type">int</span> <span class="function">main</span>() {
    <span class="type">int</span>    a = <span class="number">42</span>;
    <span class="type">double</span> b = <span class="number">3.14</span>;

    <span class="type">void</span>* p = &a;    <span class="comment">// æš«å­˜ä»»æ„ä½å€</span>
    print_int(p);      <span class="comment">// âœ… èˆ‡ a å‹åˆ¥ä¸€è‡´</span>

    p = &b;
    print_double(p);  <span class="comment">// âœ… èˆ‡ b å‹åˆ¥ä¸€è‡´</span>

    <span class="comment">// âš  ä»¥ä¸‹æ˜¯æœªå®šç¾©ï¼šç›´æ¥ *(void*) æˆ–ç”¨éŒ¯èª¤å‹åˆ¥è½‰å›</span>
    <span class="comment">// printf("%d\n", *(int*)p); // é€™è£¡ p å…¶å¯¦æŒ‡å‘ double</span>
}
</pre></div>
                    </div>

                    <div class="highlight-box"><div class="highlight-title">ğŸš« ç¦å¿Œ</div>
                        <ul class="bullet-list">
                            <li>ä¸å¯ç›´æ¥ <code>*vp</code>ï¼ˆå› ç‚º <code>vp</code> æ²’æœ‰å‹åˆ¥è³‡è¨Šï¼‰ã€‚</li>
                            <li>è½‰å‹è¦ã€Œå°è™Ÿå…¥åº§ã€ï¼ŒéŒ¯èª¤çš„å‹åˆ¥è½‰æ›æœƒå°è‡´æœªå®šç¾©è¡Œç‚ºã€‚</li>
                        </ul>
                    </div>
                </section>

                <section class="content-section">
                    <div class="section-header"><div class="section-number">âœ…</div><h2 class="section-title">æœ¬ç« é‡é»ç¸½çµ</h2></div>
                    <ul class="bullet-list">
                        <li><strong>å‹åˆ¥æ±ºå®šé‚Šç•Œèˆ‡æ­¥å¹…</strong>ï¼š<code>*p</code> è®€å¯«å¹¾å€‹ä½å…ƒçµ„ã€<code>p+1</code> è·³å¤šé ï¼Œéƒ½ç”±æŒ‡å‘å‹åˆ¥æ±ºå®šã€‚</li>
                        <li><strong><code>char*</code> æ˜¯ä½å…ƒçµ„æ”¾å¤§é¡</strong>ï¼šå¯é€ byte æª¢è¦–åŒä¸€å¡Šè¨˜æ†¶é«”ã€‚</li>
                        <li><strong><code>void*</code> æ˜¯è¬ç”¨ä½å€</strong>ï¼šä¸€å®šè¦è½‰å›æ­£ç¢ºå‹åˆ¥å†è§£åƒè€ƒã€‚</li>
                    </ul>
                </section>
            </main>

            <nav class="navigation">
                <a href="chapter2.html" class="nav-btn prev"><div><div class="nav-direction">â† ä¸Šä¸€é </div><div class="nav-title">Work with Pointers</div></div></a>
                <div class="nav-center"><div style="font-weight:600;">Chapter 3 / 18</div><div style="font-size:0.9em;">Pointer types & void pointers</div></div>
                <a href="chapter4.html" class="nav-btn"><div><div class="nav-direction">ä¸‹ä¸€é  â†’</div><div class="nav-title">Pointers to Pointers</div></div></a>
            </nav>
        </div>
    </div>

    <script>
        // æ·±æ·ºè‰²æ¨¡å¼åˆ‡æ›
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('theme-icon');
            const currentTheme = body.getAttribute('data-theme');
            if (currentTheme === 'dark') {
                body.setAttribute('data-theme', 'light');
                themeIcon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>';
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                themeIcon.innerHTML = '<circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path>';
                localStorage.setItem('theme', 'dark');
            }
        }
        // è¼‰å…¥å„²å­˜çš„ä¸»é¡Œ
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            const themeIcon = document.getElementById('theme-icon');
            document.body.setAttribute('data-theme', savedTheme);
            if (savedTheme === 'dark') {
                themeIcon.innerHTML = '<circle cx="12" cy="12" r="5"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path>';
            } else {
                themeIcon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>';
            }
        }
        // ç›®éŒ„æ‘ºç–ŠåŠŸèƒ½
        function toggleSubMenu(element) {
            event.preventDefault();
            const arrow = element.querySelector('.arrow');
            const parentLi = element.parentElement;
            const subMenu = parentLi.querySelector('.sub-menu');
            if (subMenu) { arrow.classList.toggle('expanded'); subMenu.classList.toggle('show'); }
        }
        // è¤‡è£½ç¨‹å¼ç¢¼åŠŸèƒ½
        function copyCode(button, codeId) {
            const codeElement = document.getElementById(codeId);
            const codeText = codeElement.querySelector('pre').textContent;
            navigator.clipboard.writeText(codeText).then(() => {
                const originalText = button.textContent;
                button.textContent = 'âœ… å·²è¤‡è£½';
                button.classList.add('copied');
                setTimeout(() => { button.textContent = originalText; button.classList.remove('copied'); }, 2000);
            }).catch(err => {
                console.error('è¤‡è£½å¤±æ•—:', err);
                const textArea = document.createElement('textarea');
                textArea.value = codeText;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                const originalText = button.textContent;
                button.textContent = 'âœ… å·²è¤‡è£½';
                button.classList.add('copied');
                setTimeout(() => { button.textContent = originalText; button.classList.remove('copied'); }, 2000);
            });
        }
        document.addEventListener('DOMContentLoaded', function(){ loadTheme(); });
    </script>
</body>
</html>